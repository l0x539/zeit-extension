# Zeit.io chrome extension

This is an extension source code for [zeit.io](https://zeit.io/)

## Get Started

Clone this repository, and then, in this directory:

1. Run `yarn` or `npm i` to install npm packages.
2. Run `yarn start` or `npm run start` to build the project and watch files.
3. Open chrome and go to `Settings > Extensions` and enable developer mode (Top right).
4. Click on `Load unpacked` and select `dist/` folder from the project.

The extension is now ready to be developed, any changes on the repository will reflect to the extension.

![Add extension to chrome](https://i.imgur.com/umrnGJM.png)

## Building the extension

To build the extension simply Click on `Pack extension` and browse extension root to `dist/` folder, you can optionallt add a private key file.

To test the built extension drag and drop the created `*.crx` file into chrome.

## Source layout

The default source layout looks like this:

```
src
├── app
│   ├── background.ts
│   └── content.ts
├── styles
│   └── popup.css
└── ui
    └── popup.tsx
```

* `background.ts` will get loaded as the extension background script, and will run persistently in the background
* `content.ts` will be injected into the URLs matched by `dist/manifest.json`'s `matches` entry (see [Match Patterns](https://developer.chrome.com/extensions/match_patterns) documentation)
* `popup.tsx` will become the extension's "browser action" popup
    * NOTE: `popup.tsx` compiles into `dist/js/popup.js`. It is loaded into `dist/popup.html` by an explicit `<script>` tag on that page. `dist/popup.html` is static and is not automatically generated by the build process.
* `popup.css` contains styles for the popup. These styles are loaded with `style-loader` via the `import` line at the top of `popup.tsx` (and directly injected into the popup via JavaScript)

## Dist layout

```
dist
├── _locales
│   └── en
│       └── messages.json
├── icons
│   ├── icon128.png
│   ├── icon16.png
│   ├── icon19.png
│   └── icon48.png
├── js
│   ├── background.js
│   ├── content.js
│   └── popup.js
├── manifest.json
└── popup.html
```

`dist` contains the Chrome extension. You can delete `js/*`, as its contents will be regenerated by `webpack`, but the rest of the contents of `dist` will not.